<!DOCTYPE html>
<html>
<head>
	<title>A beginner intro to vue.js 2</title>
</head>
<body>

<h1>A Beginner Intro to Vue 2</h1>

<p>“Vue (pronounced /vjuː/, like view) is a progressive framework for building user interfaces…The core library is focused on the view layer only, and is very easy to pick up.”</p>

<p>Vue.js 2.0 sports excellent performance stats, a relatively small payload (the bundled runtime version of Vue weighs in at 16kb once minified and gzipped), along with updates to companion libraries like vue-router and vuex, the state management library for Vue. There’s far too much to cover in just one article, but keep an eye out for a later article where we’ll look more closely at some of the libraries that couple nicely with the core framework.</p>

<h2>Taken from Libraries</h2>

<p>As we go through this tutorial you’ll see many features that Vue has that are clearly inspired by other frameworks. This is a good thing; it’s great to see new frameworks take some ideas from other libraries and improve on them. In particular, you’ll see Vue’s templating is very close to Angular, but its components and component lifecycle methods are closer to React (and Angular 2, as well).</p>

<p>One such example of this is that, much like React and nearly every framework in JavaScript land today, Vue uses the idea of a virtual DOM to keep rendering efficient. Vue uses a fork of snabbdom, one of the more popular virtual DOM libraries. The Vue site includes documentation on its Virtual DOM rendering, but as a user all you need to know is that Vue is very good at keeping your rendering fast (in fact, it performs better than React in many cases), meaning you can rest assured you’re building on a solid platform.</p>

<h2>Web Components</h2>

<p>Much like other frameworks these days, Vue’s core building block is the component. Your application should be a series of components that build on top of each other to produce the final application. Vue.js goes one step further by suggesting (although not enforcing) that you define your components in a single .vue file, which can then be parsed by build tools (we’ll come onto those shortly). Given that the aim of this article is to fully explore Vue and what it feels like to work with, I’m going to use this convention for my application.</p>

<h3>Single Component file Vue looks like so:</h3>
<pre><iframe src="https://pastebin.com/embed_iframe/xcwaC7vW" style="border:none;width:100%;height:400px;"></iframe></pre>

<p>Alternatively, you can give each element a src attribute and point to a separate HTML, JS or CSS file respectively if you don’t like having all parts of the component in one file.</p>

<h2>Steps to make a new Project</h2>

<ol>
	<li><a href="https://nodejs.org/en/" target="_blank">Nodejs</a> (>=4.x, 6.x preferred), npm version 3+ and <a href="https://git-scm.com/" target="_blank">Git</a>.</li>
	<pre><code>
$ sudo apt-get install python-software-properties
$ curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -
$ sudo apt-get install nodejs
	</code></pre>
	<li><a href="https://www.npmjs.com/get-npm" target="_blank">NPM</a><pre><code>$ npm install npm@latest -g</code></pre></li>
	<li><a href="https://github.com/vuejs/vue-cli" target="_blank">Vue CLI</a> <pre><code>$ npm install --global vue-cli</code></pre></li>
</ol>

<h2>Init First Vue.js 2.0 App</h2>

<pre><iframe src="https://pastebin.com/embed_iframe/bv9X4H4u" style="border:none;width:100%;height:70px"></iframe></pre>
<pre><code>Example:
$ vue init <b>webpack-simple</b> my-sample
$ cd my-sample
$ npm install
$ npm run dev
</code></pre>

<b><i>Current available templates include:</i></b>
<ul>
	<li>webpack - A full-featured Webpack + vue-loader setup with hot reload, linting, testing & css extraction.</li>
	<li><b>webpack-simple</b> - A simple Webpack + vue-loader setup for quick prototyping.</li>
	<li>browserify - A full-featured Browserify + vueify setup with hot-reload, linting & unit testing.</li>
	<li>browserify-simple - A simple Browserify + vueify setup for quick prototyping.</li>
	<li>pwa - PWA template for vue-cli based on the webpack template</li>
	<li>simple - The simplest possible Vue setup in a single HTML file</li>
</ul>

<h2>Vue Devtools</h2>

<p>Before we dive into a slightly more complicated app with Vue, now is a good time to mention that you should definitely get the <a href="https://github.com/vuejs/vue-devtools" target="_blank">Vue Devtools</a> installed. These sit within the Chrome developer tools and give you a great way to look through your app and all the properties being passed round, state that each component has, and so on.</p>

<h2>Simple Vue App</h2>

<p data-height="406" data-theme-id="0" data-slug-hash="KqRzKy" data-default-tab="result" data-user="danichim" data-embed-version="2" data-pen-title="simple-vue-app" class="codepen">See the Pen <a href="https://codepen.io/danichim/pen/KqRzKy/">simple-vue-app</a> by Dan Ichim (<a href="https://codepen.io/danichim">@danichim</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h2>Creating Two-Way Bindings</h2>
<p>Let’s change our view so that it contains an input element whose v-model points to the name property:</p>
<p data-height="265" data-theme-id="0" data-slug-hash="PjeNJm" data-default-tab="html,result" data-user="danichim" data-embed-version="2" data-pen-title="input rendering reactive" class="codepen">See the Pen <a href="https://codepen.io/danichim/pen/PjeNJm/">input rendering reactive</a> by Dan Ichim (<a href="https://codepen.io/danichim">@danichim</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h2>Using Filters</h2>
<p>A filter is a function you can use inside a directive or a mustache-style binding. A filter is always preceded by a pipe symbol (|). For example, if you want to display the name property in uppercase, your mustache-style binding would look like this:</p>
<pre><code>{{ name | uppercase }}</code></pre>
<p data-height="265" data-theme-id="0" data-slug-hash="xrjVYK" data-default-tab="html,result" data-user="danichim" data-embed-version="2" data-pen-title="input filters reactive" class="codepen">See the Pen <a href="https://codepen.io/danichim/pen/xrjVYK/">input filters reactive</a> by Dan Ichim (<a href="https://codepen.io/danichim">@danichim</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
<p>The filters lowercase and capitalize can be used in a similar manner. We’ll talk more about filters in the next section.</p>

<h2>Rendering Arrays</h2>
<p>If your model has an array, you can display the contents of that array by adding a v-for directive to a list’s < li > element. To demonstrate that, let’s add an array to our model:</p>
<pre><code><iframe src="https://pastebin.com/embed_iframe/58m5vdcn" style="border:none;width:100%;height:280px;"></iframe></code></pre>

<p>The following code shows you how to display the name property of every object in the friends array:</p>

<pre><code><iframe src="https://pastebin.com/embed_iframe/EKWE97gk" style="border:none;width:100%"></iframe></code></pre>

<p>To change the order in which the elements are listed, use the orderBy filter inside the v-for directive. For example, if you want to order the elements by age, your code should be as follows:</p>

<pre><code><iframe src="https://pastebin.com/embed_iframe/z0BkdUYd" style="border:none;width:100%"></iframe></code></pre>

<p>You can also render items conditionally. To achieve this task, use the filterBy filter. For example, the following example shows how to render only those items which contain the character “a” in the name field:</p>

<pre><code><iframe src="https://pastebin.com/embed_iframe/sgkRsSBw" style="border:none;width:100%"></iframe></code></pre>

<p>This <a href="https://codepen.io/danichim/pen/yXjOKR">third demo</a> uses a two-way data binding and a filterBy filter to simulate a search:</p>
<p data-height="265" data-theme-id="0" data-slug-hash="yXjOKR" data-default-tab="result" data-user="danichim" data-embed-version="2" data-pen-title="list filters reactive" class="codepen">See the Pen <a href="https://codepen.io/danichim/pen/yXjOKR/">list filters reactive</a> by Dan Ichim (<a href="https://codepen.io/danichim">@danichim</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h2>Handling Events</h2>
<p>In Vue.js, if you need to handle events associated with your view, you should add event handlers inside the view-model’s methods property. Inside all Vue.js event handlers, you can use this to access the items in the data model.</p>
<p>The following view-model contains a click handler:</p>

<pre><code><iframe src="https://pastebin.com/embed_iframe/waQ4MrvD" style="border:none;width:100%;height:270px"></iframe></code></pre>

<p>To associate an event handler defined in the view-model with one or more UI elements in the view, you should use the v-on directive. For example, the following view has a < button > which uses the v-on directive to call myClickEvent:</p>

<pre><code><iframe src="https://pastebin.com/embed_iframe/VQ0k4zf3" style="border:none;width:100%;height:120px"></iframe></code></pre>

<p>Putting these snippets together, results in this <a href="https://codepen.io/danichim/pen/mwLPQm" target="_blank">demo for click handler</a>:</p>
<p data-height="265" data-theme-id="0" data-slug-hash="mwLPQm" data-default-tab="js,result" data-user="danichim" data-embed-version="2" data-pen-title="Events Handling Vue" class="codepen">See the Pen <a href="https://codepen.io/danichim/pen/mwLPQm/">Events Handling Vue</a> by Dan Ichim (<a href="https://codepen.io/danichim">@danichim</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>

<h2>Start Create App with Github Api </h2>
<p>As an example application, we’re going to be using the GitHub API to build an application that lets us enter a username and see some GitHub stats about that user. I’ve picked the Github API here as it’s familiar to most people, usable without authenticating, and gives us a fair amount of information.</p>

<p>Before starting an application I like to have a quick think about what components we’ll need, and I’m thinking that our App component will render two further components: GithubOutput and GithubUserData which will show the user’s information on the screen. We’ll start with the input in App.vue</p>


<h2>Forms in Vue.js</h2>
<p>App.vue will need to do two things:
<ul>
	<li>Keep track of the current value of the input</li>
	<li>Communicate that the value has changed, so that other components can know and therefore update their state.</li>
</ul>

<iframe src="https://pastebin.com/embed_iframe/6nDCSrTx" style="border:none;width:100%"></iframe>

<p>There are two important attributes that you’ll notice: <code>v-on and <code>v-model.</p>
<p><code>v-on</code> is how we bind to DOM events in Vue and call a function. For example, <code>< p v-on:click="foo" > Click me! < /p ></code> would call the component’s <code>foo</code> method every time the paragraph was clicked. If you’d like to go through event handling in greater detail, I highly recommend the <a href="https://vuejs.org/v2/guide/events.html" target="_blank">Vue documentation on event handling</a>.</p>

<p><code>v-model</code> creates a two-way data binding between a form input and a piece of data. Behind the scenes, <code>v-model</code> is effectively listening for change events on the form input and updating the data in the Vue component to match.
</p>

<p>Taking our template above into consideration, here’s how we’re using v-on and v-model to deal with the data in the form:</p>

<ul>
	<li>v-on:submit.prevent binds run when the form is submitted. By adding .prevent that means that Vue will automatically prevent the default action from occurring (if Vue didn’t do this we could call event.preventDefault() in our code, but we might as well take advantage of Vue’s feature).</li>
	<li>v-model:username binds the input’s value to a value, username, in our code. For those of you familiar with Angular you may recognize this as very similar to ng-model. We declared that it had a piece of data, username, and here we’ve bound that piece of data to the input field. The two will automatically be kept in sync.</li>
	<li>v-on:click or @click call the method onSubmit</li>
</ul>

<p>Now, back in our component’s JavaScript, we can declare the onSubmit method. Note that the name here is entirely arbitrary – you can choose whatever you’d like – but I like to stick with the convention of naming the function after the event that will trigger it.</p>

<iframe src="https://pastebin.com/embed_iframe/5qyVPR2j" style="border:none;width:100%"></iframe>

<p>We can refer to data directly on this, so this.username will give us the latest value of the text box. If it’s not empty, we want to let other components know that the data has changed. For this, we’ll use a message bus. These are objects that components can emit events on and listen to other events. When your application grows larger you might want to look into a more structured approach, such as <a href="https://github.com/vuejs/vuex" target="_blank">Vuex</a>. For now, a message bus does the job.</p>

<p>The great news is that we can use an empty Vue instance as a message bus, <a href="https://vuejs.org/guide/components.html#Non-Parent-Child-Communication" target="_blank">as recommended in the Vue docs</a>. We’ll create src/bus.js which simply creates a Vue instance and exports it:</p>
<iframe src="https://pastebin.com/embed_iframe/MGTgevyT" style="border:none;width:100%"></iframe>
<p>In App.vue we can then import that module and use it by emitting an event when the username changes.</p>
<iframe src="https://pastebin.com/embed_iframe/VsgWcVm6" style="border:none;width:100%"></iframe>
<p>With that our form is done, and we’re ready to start doing something with the resulting data.</p>

<h2>Displaying Results from GitHub</h2>

<p>We’ll create the GithubOutput component, we also import the bus module, as we’ll need it to know when the username changes. The data that this component will be responsible for will be an object that maps GitHub usernames to the data we got from the GitHub API. This means we won’t have to make the request to the API every single time; if we’ve already fetched the data previously we can simply reuse it. We’ll also store the last username we were given, so we know what data to display on screen.</p>

<p>When the component is created we want to listen for any new-username events that are emitted on the message bus. Thankfully, Vue supports a number of lifecycle hooks, including created. Because we’re responsible developers let’s also stop listening for events when the component is destroyed by using the destroyed event:</p>
<iframe src="https://pastebin.com/embed_iframe/21NSZ0un" style="border:none;width:100%"></iframe>

<h2>Conditional Rendering</h2>
<p>If we don’t have a username, like we won’t when the component is first created, we want to show a message to the user. Vue has a number of conditional rendering techniques, but the easiest is the v-if directive, which takes a condition and will only render the element if it exists. It also can be paired with v-else :</p>
<iframe src="https://pastebin.com/embed_iframe/gwJSr8sd" style="border:none;width:100%"></iframe>

<p>Once again, this will look very familiar to any Angular developers. We use double equals rather than triple equals here because we want the conditional to be true not only if currentUsername is null but also if it’s undefined, and null == undefined is true.</p>

<h2>Fetching from GitHub</h2>
<p>Vue.js doesn’t ship with a built-in HTTP library, and for good reason. These days the fetch API ships natively in many browsers (although at the time of writing, not IE11, Safari or iOS Safari). For the sake of this tutorial I’m not going to use a polyfill, but you can <a href="https://github.com/github/fetch" target="_blank">easily polyfill the API in browsers</a> if you need to. If you don’t like the fetch API there are many third party libraries for HTTP and the one mentioned in the Vue docs is <a href="https://github.com/mzabriskie/axios" target="_blank">Axios</a>.</p>

<p>To make the HTTP request we’ll give the component another method, fetchGithubData, that makes a request to the GitHub API and stores the result. It will also first check to see if we already have data for this user, and not make the request if so:</p>
<iframe src="https://pastebin.com/embed_iframe/5DHE0k8E" style="border:none;width:100%"></iframe>

<p>We then finally just need to trigger this method when the username changes:
<iframe src="https://pastebin.com/embed_iframe/8h9b4NA1" style="border:none;width:100%"></iframe>

<h2>Showing some stats in the view</h2>
<p>Component GithubUserData.Vue then import in GithubOutput.vue and put the template</p>
<iframe src="https://pastebin.com/embed_iframe/VGxVrbY4" style="border:none;width:100%"></iframe>


<h2>Conclusion</h2>

<p>With that, our Vue.js 2 GitHub application is in a pretty good state! You can find <a href="https://github.com/danichim/vuejs-sample" target="_blank">all the code on GitHub</a>.</p>

<p>If you’ve enjoyed this post and would like to learn more the best place to start is definitely the official Vue.js site. If you’re interested in some of the other Vue libraries – including Vuex for state management and the Vue router keep an eye on our blog.</p>

<p>You’re encouraged to break your system down into small components and all in all I found it a very seamless experience. I also can’t commend the Vue team highly enough for their documentation, it’s absolutely brilliant. The guides are excellent and the API reference is thorough yet easy to navigate to find exactly what you’re after.</p>

<p>I had high hopes when getting started with Vue, as I’d heard only good things, and I’m happy to say it really met my expectations. Working with Vue feels like taking the best parts of React and merging them with the best parts of Angular. Some of the directives (like v-if, v-else, v-model and so on) are really easy to get started with (and easier to immediately understand than doing conditionals in React’s JSX syntax), but Vue’s component system feels very similar to React’s.</p>

Thanks! - <a href="https://danichim.github.io/vuejs-sample/">Go Top</a>
</body>
</html>
